# yt-dlp 安装与使用指南

## 0. tl;dr

```
yt-dlp -x --audio-format mp3 --proxy socks5://127.0.0.1:10808 --no-playlist
```

- 该命令后面需要加上视频链接

该命令使用场景：

1. 使用代理 `socks5://127.0.0.1:10808`（v2rayn 默认）
2. 下载音频，且为 mp3 格式
3. 不下载列表
   - 如果视频链接内带有列表信息，则会 yt-dlp 会默认下载整个列表

## 1. 安装

要安装 yt-dlp，你需要先安装 Python 和 pip。然后，可以在终端中使用以下命令来安装 yt-dlp：

```
pip install yt-dlp
```

## 2. 基本操作

使用 yt-dlp 下载视频非常简单。只需在终端中输入以下命令：

```
yt-dlp [视频链接]
```

请将 `[视频链接]` 替换为你要下载的视频的链接。yt-dlp 将会自动检测视频的最高质量，并将其下载到当前工作目录中。

您也可以使用 `-o` 选项来指定下载文件的保存路径和文件名。例如：

```
yt-dlp -o '/path/to/save/%(title)s.%(ext)s' [视频链接]
```

这将将下载的文件保存在 `/path/to/save` 目录中，并使用视频的标题作为文件名。

## 3. 代理

如果你需要使用代理服务器来下载视频，可以使用 `--proxy` 选项。例如：

```
yt-dlp --proxy socks5://127.0.0.1:10808 [视频链接]
```

这将使用 SOCKS5 代理服务器来下载视频。请将 `127.0.0.1:10808` 替换为你实际使用的代理服务器地址和端口号。

## 4. 格式

默认情况下，yt-dlp 会下载视频的最高质量。如果你想要下载其他质量的视频，可以使用 `-f` 选项。例如：

```
yt-dlp -f 'bestvideo[height<=720]+bestaudio/best[height<=720]' [视频链接]
```

这将下载高度小于或等于 720p 的最佳视频和音频。你可以根据具体需求自定义格式。

### 4.1 下载视频为 mp3

要使用 yt-dlp 将视频下载为 mp3 文件，可以使用 `-x` 和 `--audio-format` 选项。以下是将视频下载为 mp3 文件的示例命令：

```
yt-dlp -x --audio-format mp3 [视频链接]
```

这将下载视频并将其转换为 mp3 格式。下载的文件将保存在当前工作目录中。

如果你想将下载的 mp3 文件保存在特定目录中，可以使用 `-o` 选项，并指定文件保存路径。例如：

```
yt-dlp -x --audio-format mp3 -o '/path/to/save/%(title)s.%(ext)s' [视频链接]
```

这将将下载的 mp3 文件保存在 `/path/to/save` 目录中，并使用视频的标题作为文件名。

## 5. 不下载列表

如果视频链接内带有列表信息，则会 yt-dlp 会默认下载整个列表。

因此，如果你只想下载单个视频而不是整个播放列表，可以使用 `--no-playlist` 选项。例如：

```
yt-dlp --no-playlist [视频链接]
```

这将仅下载指定视频，而不是整个播放列表。

## 6. 易错点

使用 yt-dlp 下载视频可能会出现一些常见问题。以下是一些易错点：

- 没有安装 Python 和 pip
- 视频链接错误或无效
- 代理服务器连接失败
- 下载的视频格式不受支持或无法播放
- 由于版权或其他原因，视频无法下载

如果出现问题，请检查错误消息并进行相应的调整。

希望这些信息可以帮助你更好地使用 yt-dlp 下载视频！